{"version":3,"sources":["theme.ts","themeOptions.ts","api-client.ts","providers/login.provider.ts","providers/auth-provider.tsx","components/Login.tsx","components/Users.tsx","providers/order-provider.tsx","components/Menu.tsx","providers/bottom-drawer-provider.tsx","components/Drawer.tsx","components/SummaryList.tsx","providers/orderwave-provider.tsx","components/OrderSumary.tsx","components/Sidebar.tsx","components/Layout.tsx","components/OrderWaveSummary.tsx","components/OrderWaveOrders.tsx","components/OrderWaveDetails.tsx","components/ActionsPanel.tsx","components/OwnOrderSummary.tsx","components/HomePage.tsx","routeGuards/RequireRole.tsx","routeGuards/RequireAuth.tsx","components/MakeOrderWave.tsx","components/CreateMenu.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["appTheme","createTheme","palette","mode","primary","main","secondary","components","MuiTextField","defaultProps","variant","MuiStack","spacing","getAccessTokenFromLocalStorage","localStorage","getItem","setAccessTokenInLocalStorage","token","setItem","baseConfig","baseURL","timeout","client","axios","create","interceptors","request","use","config","accessToken","headers","error","console","log","authorization","username","password","a","post","data","name","id","role","access_token","userInfo","JSON","stringify","AuthContext","React","createContext","AuthProvider","children","json","parse","getUserInfoFromLocalStorage","useState","authenticated","setAuthenticated","userName","setUserName","userId","setUserId","userRole","setUserRole","setError","hasError","setHasError","login","userData","logout","value","isHandler","Provider","useAuth","useContext","Login","user","setUser","pass","setPass","auth","navigate","useNavigate","from","useLocation","state","pathname","useEffect","replace","Container","maxWidth","Box","sx","height","alignContent","display","flexDirection","justifyContent","onSubmit","e","preventDefault","then","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","Alert","severity","Stack","TextField","label","onChange","currentTarget","type","Button","Users","users","setUsers","get","Typography","List","map","ListItem","Card","CardContent","OrderContext","OrderProvider","setId","item","items","setItems","total","setTotal","fetchOrder","catch","updateItems","updateTotal","number","saveOrder","url","method","useOrder","DataRow","price","onRemove","onAdd","highlight","TableRow","selected","TableCell","align","textAlign","minWidth","IconButton","onClick","color","Remove","Add","Menu","menu","setMenu","Map","priceMap","setPriceMap","summaryMap","buildOrderSummary","orderSummary","forEach","qty","subtotal","push","filter","addSubtotals","summary","reduce","prev","curr","handleRemoveButtonClick","existingSummary","set","handleAddButtonClick","mt","mb","TableContainer","component","Paper","Table","TableHead","TableBody","has","BottomDrawerContext","BottomDrawerProvider","bottomDrawerOpen","setBottomDrawerOpen","closeBottomDrawer","openBottomDrawer","useBottomDrawer","styled","theme","backgroundColor","grey","background","default","StyledBox","DrawerHeading","position","top","borderTopLeftRadius","borderTopRightRadius","visibility","right","left","Puller","width","borderRadius","SwipeableEdgeDrawer","props","window","styles","overflow","Drawer","anchor","ModalProps","keepMounted","mx","p","alignSelf","title","px","pb","SummaryList","flexGrow","mr","ml","OrderWaveContext","OrderWaveProvider","handler","setHandler","orderBefore","setOrderBefore","menuId","setMenuId","setSummary","orders","setOrders","fetchOrderWave","order_before","menu_id","order","useOrderWave","OrderSummary","Sidebar","navigateTo","route","button","ListItemIcon","Home","ListItemText","MenuBook","Layout","isSidebarOpen","setIsSidebarOpen","toggleSidebar","newOpen","AppBar","Toolbar","size","edge","aria-label","OrderWaveSummary","OrderWaveOrders","Accordion","AccordionSummary","expandIcon","ExpandMore","AccordionDetails","setTwoDigits","digit","String","OrderWaveDetails","dayNumber","date","orderWave","orderDate","Date","dayOfTheWeek","getDay","orderClosingTime","getHours","getMinutes","join","ActionsPanel","to","RouterLink","CardActions","OwnOrderSummary","HomePage","length","RequireRole","location","RequireAuth","MakeOrderWave","my","requestBody","DateTimePicker","renderInput","newValue","CreateMenu","menuText","setMenuText","FormControl","fullWidth","multiline","rows","lines","split","regex","menuItems","line","test","match","parseFloat","App","ThemeProvider","CssBaseline","path","element","LocalizationProvider","dateAdapter","DateAdapter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6785d46a.chunk.js","sourcesContent":["import { createTheme } from \"@mui/material/styles\";\nimport { themeOptions } from \"./themeOptions\";\n\nexport const appTheme = createTheme(themeOptions);","import { ThemeOptions } from '@mui/material';\n\nexport const themeOptions: ThemeOptions = {\n  palette: {\n    mode: 'dark',\n    primary: {\n      main: '#00897b',\n    },\n    secondary: {\n      main: '#ffa726',\n    },\n  },\n  components: {\n    MuiTextField: {\n      defaultProps: {\n        variant: 'filled'\n      }\n    },\n    MuiStack: {\n      defaultProps: {\n        spacing: 4\n      }\n    }\n  }\n};","import axios, { AxiosRequestConfig, AxiosRequestHeaders } from 'axios';\n\nconst baseURL = process.env.NODE_ENV === 'production' ? '': 'http://localhost:3012/';\n\nexport function getAccessTokenFromLocalStorage() {\n  return localStorage.getItem('access_token');\n}\n\nexport function setAccessTokenInLocalStorage(token: string) {\n  localStorage.setItem('access_token', token);\n}\n\nconst baseConfig: Partial<AxiosRequestConfig> = {\n  baseURL,\n  timeout: 1000\n};\n\nexport const client = axios.create(baseConfig);\n\nclient.interceptors.request.use( config => {\n  const accessToken = getAccessTokenFromLocalStorage();\n  let headers: AxiosRequestHeaders = {};\n  if(accessToken) {\n    headers['Authorization'] = `Bearer ${accessToken}`;\n  }\n  return {...config, headers};\n}, error => {\n  console.log(error);\n});","import { client, setAccessTokenInLocalStorage } from \"../api-client\";\n\nexport interface UserInfo {\n  name: string;\n  role: string;\n  id: string;\n};\n\nexport function saveUserInfoInLocalStorage(userInfo: UserInfo) {\n  localStorage.setItem('user_info', JSON.stringify(userInfo));\n}\n\nexport function getUserInfoFromLocalStorage() {\n  const json = localStorage.getItem('user_info') || '{}';\n  return JSON.parse(json);\n}\n\nclass Login {\n  async login(username: string, password: string){\n    const { data: {\n      name, id, role, access_token\n    } } = await client.post('login', {username, password});\n    if (access_token) {\n      setAccessTokenInLocalStorage(access_token);\n      saveUserInfoInLocalStorage({id, name, role});\n    }\n    return {id, name, role, access_token};\n  }\n\n  async logout() {\n    setAccessTokenInLocalStorage('');\n  }\n}\n\nexport const authorization = new Login();","import React, { useState } from \"react\";\nimport { getAccessTokenFromLocalStorage } from \"../api-client\";\nimport { getUserInfoFromLocalStorage, authorization } from \"./login.provider\";\n\ninterface AuthContextType {\n  token: string | null;\n  authenticated: boolean;\n  userId?: string;\n  userName?: string;\n  userRole?: string;\n  login: (username: string, password: string) => Promise<any>;\n  logout: () => Promise<void>;\n  isHandler:() => boolean;\n  error: any;\n  hasError: boolean;\n}\n\nexport const AuthContext = React.createContext<AuthContextType>(null!);\n\nexport function AuthProvider({children}: {children: JSX.Element}) {\n\n  const {name, id, role} = getUserInfoFromLocalStorage();\n\n  const token = getAccessTokenFromLocalStorage();\n  const [authenticated, setAuthenticated] = useState(!!token);\n  const [userName, setUserName] = useState(name);\n  const [userId, setUserId] = useState(id);\n  const [userRole, setUserRole] = useState(role);\n  const [error, setError] = useState<any>();\n  const [hasError, setHasError] = useState(false)\n\n  async function login(username:string, password:string){\n    try {\n      const userData = await authorization.login(username,password);\n      setHasError(false);\n      setUserName(userData.name);\n      setUserId(userData.id);\n      setUserRole(userData.role);\n      setAuthenticated(true);\n      return userData;\n    } catch (error) {\n      setError(error);\n      setHasError(true);\n    }\n  }\n\n  async function logout(){\n    setAuthenticated(false);\n    return await authorization.logout()\n  }\n\n  function isHandler(): boolean {\n    return userRole === 'handler';\n  }\n\n  const value = {\n    authenticated,\n    token,\n    userName,\n    userId,\n    userRole,\n    login,\n    logout,\n    isHandler,\n    error,\n    hasError\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\nexport function useAuth() {\n  return React.useContext(AuthContext);\n}","import { Stop } from '@mui/icons-material';\nimport { Alert, Button, Card, Container, Snackbar, Stack, TextField } from '@mui/material';\nimport { Box } from '@mui/system';\nimport React, {useEffect, useState} from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../providers/auth-provider';\n\nexport const Login = () => {\n  const [user, setUser] = useState('');\n  const [pass, setPass] = useState('');\n\n  const auth = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  let from = location.state?.from?.pathname || \"/\";\n\n  const [hasError, setHasError] = useState(auth.hasError);\n\n  useEffect(() => {\n    if (auth.authenticated) {\n      navigate(from, { replace: true });\n    }\n  }, [auth.authenticated]);\n\n  useEffect(() => {\n    setHasError(auth.hasError);\n  }, [auth.hasError])\n\n\n  function handleSnackbarClose() {\n    setHasError(false);\n  }\n\n  function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    auth.login(user, pass).then(() => setHasError(auth.hasError));\n  }\n\n\n  return (\n    <Container maxWidth=\"xs\">\n      <Box sx={{\n        height: '100vh',\n        alignContent: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center'\n      }}>\n        <form onSubmit={handleSubmit}>\n          <Snackbar\n            anchorOrigin={{vertical:'top', horizontal:'center'}}\n            open={hasError}\n            autoHideDuration={10000}\n            onClose={handleSnackbarClose}\n          >\n            <Alert severity='error'>Wrong credentials :(</Alert>\n          </Snackbar>\n          <Stack >\n            <TextField label=\"username\" onChange={e => setUser(e.currentTarget.value)} value={user}></TextField>\n            <TextField label=\"password\" onChange={e => setPass(e.currentTarget.value)} value={pass} type=\"password\"></TextField>\n            <Button type=\"submit\">Login</Button>\n          </Stack>\n        </form>\n      </Box>\n    </Container>\n  );\n}","import React, { useEffect, useState }from 'react';\nimport { Button, Card, CardContent, List, ListItem, Stack, Typography } from '@mui/material';\nimport { useAuth } from '../providers/auth-provider';\nimport { client } from '../api-client';\nimport { useNavigate } from 'react-router-dom';\n\nexport function Users() {\n  const auth = useAuth();\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    client.get('users').then( ({data}) => {\n      setUsers(data);\n    });\n  }, []);\n  return (<>\n\n    <Typography variant=\"h2\">Users!</Typography>\n    <List>\n      {users.map( ({id, name, role}) => (\n        <ListItem key={id}>\n          <Card>\n            <CardContent>\n              <Stack>\n                <Typography variant=\"body1\">user id: {id}</Typography>\n                <Typography variant=\"body1\">username: {name}</Typography>\n                <Typography variant=\"body1\">role: {role}</Typography>\n              </Stack>\n            </CardContent>\n          </Card>\n        </ListItem>)\n      )}\n    </List>\n\n  </>);\n}","import React, { useContext, useEffect, useState } from 'react';\nimport { client } from '../api-client';\nimport { useOrderWave } from './orderwave-provider';\n\nexport interface OrderItem {\n  qty?: number;\n  item?: string;\n  subtotal?: number;\n}\n\nexport interface OrderContextType {\n  id: string;\n  user: string;\n  items?: OrderItem[];\n  total: number;\n  updateItems: (items: OrderItem[]) => void;\n  updateTotal: (total: number) => void;\n  saveOrder: () => Promise<void>;\n  fetchOrder: () => Promise<void>;\n}\n\nexport const OrderContext = React.createContext<OrderContextType>(null!);\n\nexport function OrderProvider({children}: {children: JSX.Element}) {\n  const [id, setId] = useState('');\n  const [user, setUser] = useState('');\n  const [items, setItems] = useState<OrderItem[]>([{item: ''}]);\n  const [total, setTotal] = useState(0);\n\n  const updateItems = (items: OrderItem[]) => setItems(items);\n  const updateTotal = (number: number) => setTotal(number);\n\n\n  const fetchOrder = () => client.get('/orders').then(({data}) => {\n    if(!data.id) {\n      setItems([]);\n      setTotal(0);\n      return;\n    }\n    setId(data.id);\n    setUser(data.user.username);\n    setItems(data.items);\n    setTotal(data.total);\n  });\n\n  useEffect(() => {\n    fetchOrder().catch(error => {\n      console.log(error);\n    })\n  }, []);\n\n  const saveOrder = async () => {\n\n    const {data} = await client({\n      url: '/orders',\n      method: 'PATCH',\n      data: { items},\n    });\n\n    setId(data.id);\n    setItems(data.items);\n    setTotal(data.total);\n\n  };\n\n  const value = {\n    id,\n    user,\n    items,\n    total,\n    updateItems,\n    updateTotal,\n    saveOrder,\n    fetchOrder\n  }\n\n  return <OrderContext.Provider value={value}>{children}</OrderContext.Provider>\n}\n\nexport function useOrder() {\n  return useContext(OrderContext)\n}","import React, { useEffect, useState } from 'react';\nimport { IconButton, MenuItem, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography } from '@mui/material';\nimport { Add, AddCircle, Remove, RemoveCircle } from '@mui/icons-material';\nimport { client } from '../api-client';\nimport { OrderItem, useOrder } from '../providers/order-provider';\n\nexport interface MenuItem {\n  name: string;\n  price: number\n};\n\nexport interface MenuData {\n  items: MenuItem[];\n  id: string;\n}\n\n\nconst DataRow = ({\n    name,\n    price,\n    onRemove,\n    onAdd,\n    highlight,\n  }: {\n    name: string,\n    price: number,\n    onRemove: (name: string) => void,\n    onAdd: (name: string) => void,\n    highlight?: boolean\n  }) => {\n\n  return (<TableRow selected={highlight}>\n      <TableCell> {name} </TableCell>\n      <TableCell align=\"center\"> {price} </TableCell>\n      <TableCell sx={{textAlign: 'right', minWidth: '8em'}}>\n        <IconButton onClick={() => onRemove(name)} color=\"secondary\">\n          <Remove></Remove>\n        </IconButton>\n        <IconButton onClick={() => onAdd(name)} color=\"secondary\">\n          <Add></Add>\n        </IconButton>\n      </TableCell>\n  </TableRow>)\n};\n\nexport const Menu = () => {\n  const [menu, setMenu] = useState<MenuData>();\n  const [priceMap, setPriceMap] = useState(new Map<string, number>());\n\n\n  const {items, updateItems, updateTotal} = useOrder() || [];\n\n  const summaryMap = new Map();\n  items?.forEach( ({item, qty}) => summaryMap.set(item, qty));\n\n  useEffect(() => {\n    client.get('menu').then( ({data}) => {\n      setMenu(data);\n      const priceMap = new Map<string, number>();\n      const items = data.items || [];\n      items.forEach( ({name, price}: MenuItem) => priceMap.set(name, price));\n      setPriceMap(priceMap);\n    });\n  }, []);\n\n  function buildOrderSummary(map: Map<string, number>) {\n    const orderSummary: any[] = [];\n    summaryMap.forEach( (qty: number, name: string) => {\n      const subtotal = qty * (priceMap.get(name) || 0);\n      orderSummary.push({ item: name, qty, subtotal });\n    });\n    return orderSummary.filter( ({qty}) => qty > 0);\n  }\n\n  function addSubtotals(summary: any[]): number {\n    return summary.reduce( (prev: number, curr) => prev + curr.subtotal, 0);\n  }\n\n  function handleRemoveButtonClick(name: string) {\n    const existingSummary = summaryMap.get(name) || 0;\n    if (existingSummary <= 0 ) {\n      return;\n    }\n\n    summaryMap.set(name, existingSummary - 1);\n    const summary = buildOrderSummary(summaryMap);\n    updateItems(summary);\n\n    const total = addSubtotals(summary);\n    updateTotal(total);\n  }\n\n  function handleAddButtonClick(name: string) {\n    const existingSummary = summaryMap.get(name) || 0;\n    summaryMap.set(name, existingSummary + 1);\n    const summary = buildOrderSummary(summaryMap);\n    updateItems(summary);\n\n    const total = addSubtotals(summary);\n    updateTotal(total);\n  }\n\n\n\n\n  return (<>\n    <Typography variant='h6' sx={{mt: 2, mb: 2}}>Menu 🍀🍀🍀</Typography>\n\n    <TableContainer component={Paper}>\n      <Table>\n          <TableHead>\n              <TableRow>\n                  <TableCell>🌱 Dish</TableCell>\n                  <TableCell>💶 Price</TableCell>\n                  <TableCell></TableCell>\n              </TableRow>\n          </TableHead>\n          <TableBody>\n              {menu?.items && menu?.items?.map( ({name, price}) => {\n                  return (<DataRow\n                    onRemove={handleRemoveButtonClick}\n                    onAdd={handleAddButtonClick}\n                    name={name}\n                    price={price}\n                    highlight={summaryMap.has(name)}\n                    key={name}\n                  ></DataRow>);\n              })}\n          </TableBody>\n      </Table>\n    </TableContainer>\n  </>);\n}","import React, { createContext, useState, useContext } from 'react';\n\nexport interface BottomDrawerContextType {\n  bottomDrawerOpen: boolean;\n  closeBottomDrawer: () => void;\n  openBottomDrawer: () => void;\n}\n\nconst BottomDrawerContext = createContext<BottomDrawerContextType>(null!);\n\nexport function BottomDrawerProvider({children}: {children: JSX.Element}) {\n  const [bottomDrawerOpen, setBottomDrawerOpen] = useState(false);\n\n  const closeBottomDrawer = ()  => {\n    setBottomDrawerOpen(false);\n  }\n\n  const openBottomDrawer = () => {\n    setBottomDrawerOpen(true);\n  }\n\n  const value: BottomDrawerContextType = {\n    bottomDrawerOpen,\n    closeBottomDrawer,\n    openBottomDrawer\n  }\n\n  return <BottomDrawerContext.Provider value={value}>{children}</BottomDrawerContext.Provider>\n}\n\nexport function useBottomDrawer() {\n  return useContext(BottomDrawerContext)\n}","import * as React from 'react';\nimport { Global } from '@emotion/react';\nimport { styled } from '@mui/material/styles';\nimport { grey } from '@mui/material/colors';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Skeleton from '@mui/material/Skeleton';\nimport Typography from '@mui/material/Typography';\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\nimport { ButtonGroup, Drawer } from '@mui/material';\nimport { useBottomDrawer } from '../providers/bottom-drawer-provider';\n\nconst drawerBleeding = 56;\n\ninterface Props {\n  children: JSX.Element;\n  title: string;\n  window?: () => Window;\n}\n\nconst Root = styled('div')(({ theme }) => ({\n  height: '100%',\n  backgroundColor:\n    theme.palette.mode === 'light' ? grey[100] : theme.palette.background.default,\n}));\n\nconst StyledBox = styled(Box)(({ theme }) => ({\n  backgroundColor: theme.palette.mode === 'light' ? '#fff' : grey[800],\n}));\n\nconst DrawerHeading = styled(StyledBox)(({theme}) => ({\n  position: 'absolute',\n  top: -drawerBleeding,\n  borderTopLeftRadius: 8,\n  borderTopRightRadius: 8,\n  visibility: 'visible',\n  right: 0,\n  left: 0,\n  display: 'flex',\n  flexDirection:'column'\n}));\n\nconst Puller = styled(Box)(({ theme }) => ({\n  width: 30,\n  height: 6,\n  backgroundColor: theme.palette.mode === 'light' ? grey[300] : grey[900],\n  borderRadius: 3,\n  position: 'absolute',\n  top: 8,\n  left: 'calc(50% - 15px)',\n}));\n\nexport function SwipeableEdgeDrawer(props: Props) {\n  const { window } = props;\n\n  const {bottomDrawerOpen, openBottomDrawer, closeBottomDrawer} = useBottomDrawer();\n\n  // This is used only for the example\n  const container = window !== undefined ? () => window().document.body : undefined;\n\n  return (\n    <>\n      <Global\n        styles={{\n          '.MuiDrawer-root > .MuiDrawer-paperAnchorBottom': {\n            height: `calc(50% - ${drawerBleeding}px)`,\n            overflow: 'visible',\n          },\n        }}\n      />\n\n      <Drawer\n        anchor=\"bottom\"\n        open={bottomDrawerOpen}\n        onClose={closeBottomDrawer}\n        ModalProps={{\n          keepMounted: true,\n        }}\n      >\n        <DrawerHeading\n          onClick={openBottomDrawer}\n        >\n          <Puller />\n          <Button\n            variant=\"text\"\n            color=\"secondary\"\n            sx={{ mx: 2, p: 2, alignSelf: 'flex-end'}}\n          >\n            {props.title}\n          </Button>\n        </DrawerHeading>\n        <StyledBox\n          sx={{\n            px: 2,\n            pb: 2,\n            height: '100%',\n            overflow: 'auto',\n          }}\n        >\n          {props.children}\n        </StyledBox>\n      </Drawer>\n    </>\n  );\n}","import { List, ListItem, Typography } from '@mui/material'\nimport { Box } from '@mui/system'\nimport React from 'react'\nimport { OrderItem } from '../providers/order-provider'\n\ninterface Props {\n  items: OrderItem[]\n}\n\nexport default function SummaryList({items}: Props) {\n  return (\n    <List sx={{flexGrow: 1, overflow: 'scroll'}}>\n      {items && items.map( ({item, qty, subtotal}) => (\n        <ListItem key={item}>\n          <Typography variant=\"caption\">{qty}g.</Typography>\n          <Box component='span' sx={{mr: 1, ml: 1}}>-</Box>\n          <Typography variant=\"caption\" sx={{flexGrow: 1}}>{item}</Typography>\n          <Typography variant=\"caption\">{subtotal}</Typography>\n        </ListItem>\n      ))}\n      </List>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { client } from '../api-client';\n\nexport interface OrderItem {\n  qty?: number;\n  item?: string;\n  subtotal?: number;\n}\n\nexport interface UserModel {\n  name?: string;\n  id?: string;\n  username?: string;\n}\n\nexport interface OrderModel {\n  id?: string;\n  user?: UserModel;\n  items?: OrderItem[];\n  total?: number;\n}\n\nexport interface OrderWaveContextType {\n  id?: string;\n  handler?: string;\n  orderBefore?: string;\n  menuId?: string;\n  orders?: OrderModel[];\n  summary?: OrderItem[];\n  fetchOrderWave: () => Promise<void>;\n  total?: number;\n}\n\nexport const OrderWaveContext = React.createContext<OrderWaveContextType>(null!);\n\nexport function OrderWaveProvider({children}: {children: JSX.Element}) {\n  const [id, setId] = useState('');\n  const [handler, setHandler] = useState('');\n  const [orderBefore, setOrderBefore] = useState('');\n  const [menuId, setMenuId] = useState('');\n  const [summary, setSummary] = useState<OrderItem[]>([{item: ''}]);\n  const [orders, setOrders] = useState<OrderModel[]>([{id: ''}]);\n  const [total, setTotal] = useState(0);\n\n  const fetchOrderWave = () =>  client.get('order-wave').then(({data}) => {\n    const { id, handler, order_before, menu_id, summary, orders, total } = data;\n    console.log(orders?.map( (order: OrderModel) => order.total));\n    setId(id);\n    setHandler(handler.name);\n    setOrderBefore(order_before);\n    setMenuId(menu_id);\n    setOrders(orders);\n    setSummary(summary);\n    setTotal(total);\n  });\n\n  useEffect(() => {\n    fetchOrderWave();\n  }, []);\n\n  const value = {\n    id,\n    handler,\n    orderBefore,\n    menuId,\n    summary,\n    orders,\n    total,\n    fetchOrderWave\n  }\n\n  return <OrderWaveContext.Provider value={value}>{children}</OrderWaveContext.Provider>\n}\n\nexport function useOrderWave() {\n  return React.useContext(OrderWaveContext);\n}","import { Box, Button, List, ListItem, Typography } from '@mui/material';\nimport React, { useEffect } from 'react';\nimport { useBottomDrawer } from '../providers/bottom-drawer-provider';\nimport { useOrder } from '../providers/order-provider';\nimport SummaryList from './SummaryList';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { useNavigate } from 'react-router-dom';\n\n\n\nexport function OrderSummary() {\n  const {fetchOrderWave} = useOrderWave();\n  const {items, saveOrder} = useOrder();\n  const {closeBottomDrawer} = useBottomDrawer();\n  const navigate = useNavigate();\n\n  function handleSaveButtonClick() {\n    saveOrder();\n    if(closeBottomDrawer) closeBottomDrawer();\n    if(fetchOrderWave) fetchOrderWave();\n    navigate('/');\n  }\n\n\n  return (<>\n    <Box sx={{\n      height: '100%',\n      textAlign: 'right',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between'\n      }}\n    >\n      <SummaryList items={items || []} />\n      <Button\n        onClick={handleSaveButtonClick}\n        variant=\"contained\"\n        color=\"secondary\"\n        sx={{ml: 'auto'}}\n      >\n        Save The order\n      </Button>\n    </Box>\n</>);\n}","import React from 'react';\n\nimport { Home, Inbox, Mail, MenuBook } from '@mui/icons-material';\nimport { List, ListItem, ListItemIcon, ListItemText, Divider, Button, Drawer } from '@mui/material';\nimport { Link, useNavigate } from 'react-router-dom';\n\ninterface Props {\n  open: boolean,\n  onClose: () => void;\n}\n\ntype Anchor = 'top' | 'left' | 'bottom' | 'right';\nconst anchor: Anchor = 'left';\n\nexport function Sidebar({ open, onClose }: Props) {\n\n  const navigate = useNavigate();\n\n  function navigateTo(route: string) {\n    navigate(route);\n    onClose();\n  }\n\n  const list = () => (<>\n    <List>\n      <ListItem button onClick={() => navigateTo('/')}>\n          <ListItemIcon>\n            <Home />\n          </ListItemIcon>\n          <ListItemText primary='Home' />\n      </ListItem>\n      <ListItem button onClick={() => navigateTo('/menu')}>\n          <ListItemIcon>\n            <MenuBook />\n          </ListItemIcon>\n          <ListItemText primary='Menu' />\n      </ListItem>\n    </List>\n  </>);\n\n  return (\n    <Drawer\n      anchor={anchor}\n      open={open}\n      onClose={onClose}\n    >\n      {list()}\n    </Drawer>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport { AppBar, BottomNavigation, BottomNavigationAction, Box, Button, Container, IconButton, List, ListItem, Paper, Toolbar, Typography } from '@mui/material';\nimport { Menu, Restore, Favorite, Archive } from '@mui/icons-material';\nimport { Link, Outlet, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../providers/auth-provider';\nimport { SwipeableEdgeDrawer } from './Drawer';\nimport { useOrder } from '../providers/order-provider';\nimport { OrderSummary } from './OrderSumary';\nimport { Sidebar } from './Sidebar';\nimport { BottomDrawerProvider } from '../providers/bottom-drawer-provider';\n\n\nexport function Layout() {\n\n  const auth = useAuth();\n  const navigate = useNavigate();\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n\n  const {userName, userId} = auth;\n\n  const { total } = useOrder();\n\n  async function handleLogout() {\n    await auth.logout();\n    navigate('/login');\n  }\n\n  const toggleSidebar = (newOpen: boolean) => {\n    setIsSidebarOpen(newOpen);\n  }\n\n  return (<>\n    <Box sx={{\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column'\n    }}>\n      <Sidebar open={isSidebarOpen} onClose={() => toggleSidebar(false)}></Sidebar>\n      <AppBar position=\"sticky\">\n        <Toolbar>\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n            onClick={() => toggleSidebar(true)}\n          >\n            <Menu></Menu>\n          </IconButton>\n          <Typography variant=\"body1\" component=\"div\" sx={{ flexGrow: 1 }}>\n            Welcome {userName}!\n          </Typography>\n          <Button onClick={handleLogout}>logout</Button>\n        </Toolbar>\n      </AppBar>\n      <Container sx={{flexGrow: 1, mb: 8}}>\n          <Box sx={{\n            mb: 8\n          }}>\n            <Outlet />\n          </Box>\n          <BottomDrawerProvider>\n            <SwipeableEdgeDrawer title={`total: ${total} €` }>\n              <OrderSummary></OrderSummary>\n            </SwipeableEdgeDrawer>\n          </BottomDrawerProvider>\n      </Container>\n    </Box>\n  </>);\n}\n\nfunction refreshMessages() {\n  throw new Error('Function not implemented.');\n}\n","import { Card, CardContent, Typography } from '@mui/material';\nimport React from 'react';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport SummaryList from './SummaryList';\n\nexport function OrderWaveSummary() {\n  const {summary, total} = useOrderWave();\n  return (<Card sx={{ mb: 2}}>\n    <CardContent>\n      <Typography variant=\"h6\">Everyone's Total: {total} €</Typography>\n      <SummaryList items={summary || []} />\n    </CardContent>\n  </Card>);\n}","import React from 'react';\nimport { Accordion, AccordionDetails, AccordionSummary, Box, Button, Card, CardActions, CardContent, Typography } from '@mui/material';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { ExpandMore } from '@mui/icons-material';\nimport SummaryList from './SummaryList';\n\nexport function OrderWaveOrders() {\n  const {orders} = useOrderWave();\n\n  return (<Card>\n    <CardContent>\n      <Typography variant=\"h6\"> These people are ordering:</Typography>\n      {orders?.map( order =>\n        (<Box sx={{mb: 2, mt:2}}>\n          <Accordion>\n            <AccordionSummary\n              expandIcon={<ExpandMore/>}\n              >\n              <Typography variant=\"body1\" component=\"div\" color=\"secondary\">{order.user?.name}: {order.total} €</Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n              <SummaryList items={order.items || []} />\n            </AccordionDetails>\n          </Accordion>\n        </Box>)\n      )}\n    </CardContent>\n  </Card>);\n}","import React from 'react';\nimport { Typography } from '@mui/material';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { useAuth } from '../providers/auth-provider';\n\nfunction getDayNumberWord(dayNumber?: number): string {\n\n  if (!dayNumber || dayNumber > 7 || dayNumber < 1) {\n    return 'Danielsday';\n  }\n\n  const daysMap = new Map<number, string>([\n    [1, \"Monday\"],\n    [2, \"Tuesday\"],\n    [3, \"Wednesday\"],\n    [4, \"Thursday\"],\n    [5, \"Friyay\"],\n    [6, \"Saturday\"],\n    [7, \"Sunday\"]\n  ]);\n\n  return daysMap.get(dayNumber) || 'Danielsday';\n}\n\nfunction setTwoDigits(digit: number) {\n  if (digit < 10) {\n    return '0'+digit;\n  }\n  return String(digit);\n}\n\nfunction getHoursAndMinutes(date: Date) {\n  const hours = setTwoDigits(date.getHours());\n  const minutes = setTwoDigits(date.getMinutes());\n\n  return [hours, minutes].join(':');\n}\n\nexport function OrderWaveDetails() {\n  const orderWave = useOrderWave();\n  const {userName} = useAuth();\n\n  const {handler, orderBefore } = orderWave;\n  const orderDate = new Date(orderBefore || '');\n  const dayOfTheWeek = getDayNumberWord(orderDate.getDay());\n  const orderClosingTime = getHoursAndMinutes(orderDate);\n\n  return (<>\n    <Typography variant=\"h6\" component=\"div\">{handler === userName ? 'You are': `${handler} is`} ordering on {dayOfTheWeek}</Typography>\n    <Typography variant=\"body1\"> Order before {orderClosingTime}</Typography>\n  </>);\n}","import React from 'react';\nimport { Card, CardContent, Typography, CardActions, Button, Stack } from '@mui/material';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useAuth } from '../providers/auth-provider';\nimport { useOrderWave } from '../providers/orderwave-provider';\n\n\nexport function ActionsPanel({children}:{children: JSX.Element}) {\n\n  const {isHandler, userName} = useAuth();\n  const {handler} = useOrderWave();\n\n  const showhandlerDetails = () => isHandler() && userName === handler;\n\n  return (<Card sx={{mb: 2}}>\n    <CardContent>\n      {children}\n      <Stack alignContent=\"start\">\n      { showhandlerDetails() && <Button size=\"small\" to={`/create-menu`} component={RouterLink} >change the Menu</Button> }\n      { isHandler() && <Button size=\"small\" color=\"warning\" to={`/make-orderwave`} component={RouterLink}>Make new OrderWave</Button> }\n      </Stack>\n    </CardContent>\n    <CardActions>\n      <Button size=\"small\" to={`/menu`} component={RouterLink}>\n          Menu\n      </Button>\n    </CardActions>\n  </Card>);\n}","import { Card, CardContent, Typography } from '@mui/material'\nimport { Box } from '@mui/system'\nimport React from 'react'\nimport { useOrder } from '../providers/order-provider'\nimport { OrderSummary } from './OrderSumary'\nimport SummaryList from './SummaryList'\n\nexport default function OwnOrderSummary() {\n\n  const {items, total} = useOrder();\n  return (\n    <Card sx={{mb: 2}}>\n      <CardContent>\n        <Typography variant=\"h5\" component=\"div\" sx={{mb: 1}}>Your order</Typography>\n        <SummaryList items={items || []} />\n        <Box sx={{display: 'flex'}}>\n          <Typography variant=\"body1\" component=\"div\" sx={{ml: 'auto', mr: 2}}>total: {total}</Typography>\n        </Box>\n      </CardContent>\n    </Card>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { Accordion, AccordionSummary, AccordionDetails, Box, Button, Card, CardActions, CardContent, Typography } from '@mui/material';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { ExpandMore } from '@mui/icons-material';\nimport SummaryList from './SummaryList';\nimport { OrderWaveSummary } from './OrderWaveSummary';\nimport { OrderWaveOrders } from './OrderWaveOrders';\nimport { OrderWaveDetails } from './OrderWaveDetails';\nimport { ActionsPanel } from './ActionsPanel';\nimport { useAuth } from '../providers/auth-provider';\nimport { useOrder } from '../providers/order-provider';\nimport OwnOrderSummary from './OwnOrderSummary';\n\ninterface OrderWaveData {\n  handler: string;\n  order_before: string;\n  menu_id: string;\n}\n\n\n\nexport function HomePage() {\n\n  const {isHandler, userName} = useAuth();\n  const {handler} = useOrderWave();\n  const {items} = useOrder();\n\n  const showhandlerDetails = () => isHandler() && userName === handler;\n\n  return (<>\n    <Typography variant=\"h6\" sx={{mb: 2, mt: 2}}>Home Page</Typography>\n      <ActionsPanel>\n        <OrderWaveDetails />\n      </ActionsPanel>\n      {!!items?.length && <OwnOrderSummary />}\n      {showhandlerDetails() && <>\n        <OrderWaveSummary />\n        <OrderWaveOrders />\n      </>}\n  </>);\n}","import React from 'react';\nimport { useLocation, Navigate } from \"react-router-dom\";\nimport { useAuth } from \"../providers/auth-provider\";\n\nexport function RequireRole({children, role}: {children: JSX.Element, role: string}) {\n  const auth = useAuth();\n  const location = useLocation();\n\n  if (auth.userRole !== role) {\n    return <Navigate to=\"/menu\" state={{ from: location }} />;\n  }\n\n  return children;\n}","import React from 'react';\nimport { useLocation, Navigate } from \"react-router-dom\";\nimport { useAuth } from \"../providers/auth-provider\";\n\nexport function RequireAuth({children}: {children: JSX.Element}): JSX.Element {\n  const auth = useAuth();\n  const location = useLocation();\n\n  if(!auth.authenticated) {\n    return <Navigate to=\"/login\" state={{ from: location }} />;\n  }\n\n  return children;\n}","import React, { FormEvent, FormEventHandler, useState } from 'react';\nimport { Card, CardContent, TextField, Typography, Stack, Button, FormControl, Box } from '@mui/material';\nimport { DateTimePicker } from '@mui/lab';\nimport { useAuth } from '../providers/auth-provider';\nimport { client } from '../api-client';\nimport { useOrder } from '../providers/order-provider';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { useNavigate } from 'react-router';\n\nexport default function MakeOrderWave() {\n  const [orderBefore, setOrderBefore] = useState<Date | null>(new Date());\n  const {userId} = useAuth();\n  const orderWave = useOrderWave();\n  const navigate = useNavigate();\n\n\n  function createOrderWave<HTMLFormElement>(e: FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n\n    const requestBody = {\n      handler: userId,\n      order_before: orderBefore\n    };\n\n    client.post('order-wave', requestBody).then( () => {\n      if (orderWave.fetchOrderWave) {\n        return orderWave?.fetchOrderWave();\n      }\n      return null;\n    }).then(() => {\n      return navigate('/');\n    });\n  }\n\n  return (\n    <>\n      <Typography variant=\"h5\" sx={{ my: 2 }}> Make a New Orderwave</Typography>\n      <Card>\n        <CardContent>\n          <Typography variant=\"h6\" component=\"div\"></Typography>\n          <form onSubmit={createOrderWave}>\n            <Box sx={{mb:2}}>\n              <DateTimePicker\n                renderInput={(props) => <TextField {...props} />}\n                label=\"Order before:\"\n                value={orderBefore}\n                onChange={(newValue) => {\n                  setOrderBefore(newValue);\n                }}\n              />\n              </Box>\n              <Button type=\"submit\" variant=\"contained\"> create orderWave</Button>\n          </form>\n        </CardContent>\n      </Card>\n    </>\n  )\n}\n","import { FormControl, TextField, Button, Card, CardContent } from '@mui/material';\nimport React, { useState } from 'react'\nimport { useNavigate } from 'react-router';\nimport { client } from '../api-client';\nimport { useOrder } from '../providers/order-provider';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { MenuItem } from './Menu';\n\nconst defaultInput = `\nWEED 🌲🌲 per G\nMimozz (hybrid)🍭🍭🍭12€\nBlood Orange (hybrid)🍊🍊🍊12€\nZookies (hybrid)🥮🥮🥮12€\nBacio Gelato (hybrid)🍨🍨🍨12€\nMimosa (hybrid)🌾🌾🌾11€\nGorilla Zkittlez (hybrid) 🦍🍊🦍11€\nMelonade (sativa)🍉🍉🍉10€\nStrawberry Kush (indica)🍓🍓🍓10€\nL.A. Confidential (indica)🌃🌃🌃10€\nShoreline (sativa)🍒🍒🍒10€\nSomari (indica)🥧🥧🥧9€\nMiss Cookies (hybrid)🍪👸🍪9€\nGuanabana #2 (hybrid) 🍈🍈🍈9€\nChocolope (sativa)🍫🍫🍫8.5€\nEnemy of the States (indica)🥧🥧🥧8.5€\nLemon Kush (indica)🍋🌿🍋8.5€\nSuper Lemon Haze (sativa)🍋🍋🍋7€\nSuper Silver Haze (sativa) 🐊🐊🐊7€\nSkunk (indica)🦨🦨🦨7€\nMix Buds 🇳🇱🇳🇱🇳🇱 6€\n\nHASH🍫🍫 per G\nGelato Triple Filtred 🍧🍧🍧15€\nLemonchello Triple Filtred🍋🍋🍋15€\nMandalina Triple Filtred 🍊🍊🍊15€\nBarbara Peach Triple Filtred 🍑🍑🍑 15€\nKit & Kat Double Filtred + Wax 🍫🍫🍫13.5€\nBiscotti Eggs Double Filtred 🍪🍪🍪 13.5€\nMandarina Eggs Double Filtred 🍊🍊🍊13.5€\nGorilla Zkittlez Eggs Double Filtred🦍🍊🦍13.5€\nGolden States Eggs Double Filtred 🍌🍌🍌12.5€\nBanana Kush Refiltred 🍌☘️🍌12€\nGorilla Kush Blond Refiltred 🦍☘️🦍10€\nBanana Punch Refiltred 🍌🍌🍌10€\nBluberry Kush Filtred Hash 🍒🍓🍒7.5€\nMango Kush Filtred Hash🥭🥭🥭7.5€\nPhineapple Express Pollinetor Hash 🍍🍍🍍7€\nOrange Bud Maroccan Hash 🍊🍊🍊7€`;\n\nexport default function CreateMenu(): JSX.Element {\n\n  const { fetchOrderWave } = useOrderWave();\n  const { fetchOrder } = useOrder();\n  const navigate = useNavigate();\n\n  function onMenuCreated(items: MenuItem[]) {\n    client.post('/menu', {items}).then(() => {\n      if(fetchOrderWave) fetchOrderWave();\n      fetchOrder();\n      navigate('/menu');\n    });\n  }\n\n  const [menuText, setMenuText] = useState(defaultInput);\n\n  function makeMenuItems() {\n    if (!menuText) {\n      console.log('textfield is empty yo');\n      return;\n    }\n\n    const lines: string[] = menuText.split('\\n');\n    const regex = /(^.+[^\\d^\\.]|[^\\d])([\\d\\.]{1,4})\\€/;\n    const menuItems: MenuItem[] = lines\n      .filter(line => regex.test(line))\n      .map(line => {\n        const match = line.match(regex);\n        if (!match) return { id: '', name: '', price: 0 };\n        return { id: match[0], name: match[1], price: parseFloat(match[2]) }\n      });\n    if (menuItems !== null) {\n      onMenuCreated(menuItems);\n    } else {\n      console.error('WTF...');\n    }\n  }\n\n  return (\n    <Card>\n      <CardContent>\n        <FormControl fullWidth>\n          <TextField\n            label=\"paste the menu here 👇🏾\"\n            multiline\n            rows={15}\n            variant=\"outlined\"\n            onChange={e => setMenuText(e.currentTarget.value)}\n            value={menuText}\n          ></TextField>\n        </FormControl>\n        <Button variant=\"contained\" color=\"primary\" onClick={makeMenuItems}> Gogogo! </Button>\n      </CardContent>\n    </Card>\n  )\n}\n","import React from 'react';\nimport { ThemeProvider, CssBaseline,  } from '@mui/material';\nimport { appTheme } from './theme';\nimport { Routes, Route, Outlet, BrowserRouter } from 'react-router-dom';\nimport { Login } from './components/Login';\nimport { Users } from './components/Users';\nimport { Menu, MenuItem } from './components/Menu';\nimport { Layout } from './components/Layout';\nimport { HomePage } from './components/HomePage';\nimport { AuthProvider } from './providers/auth-provider';\nimport { RequireRole } from './routeGuards/RequireRole';\nimport { RequireAuth } from './routeGuards/RequireAuth';\nimport { OrderWaveProvider } from './providers/orderwave-provider';\nimport { OrderProvider } from './providers/order-provider';\nimport { OrderSummary } from './components/OrderSumary';\nimport DateAdapter from '@mui/lab/AdapterDateFns';\nimport { LocalizationProvider } from '@mui/lab';\nimport MakeOrderWave from './components/MakeOrderWave';\nimport CreateMenu from './components/CreateMenu';\n\n\nfunction handleMenuCreated(items: MenuItem[]) {\n  console.log(items.map(item => item.name));\n}\nfunction App() {\n\n  return (\n      <ThemeProvider theme={appTheme}>\n        <CssBaseline />\n        <AuthProvider>\n          <BrowserRouter>\n            <Routes>\n              <Route\n                path=\"/\"\n                element={\n                  <RequireAuth>\n                    <OrderWaveProvider>\n                      <OrderProvider>\n                        <LocalizationProvider dateAdapter={DateAdapter}>\n                          <Layout />\n                        </LocalizationProvider>\n                      </OrderProvider>\n                    </OrderWaveProvider>\n                  </RequireAuth>\n                }\n              >\n                <Route\n                  path=\"\"\n                  element={\n                    <HomePage />\n                  }\n                />\n                <Route\n                  path=\"menu\"\n                  element={\n                    <Menu />\n                  }/>\n                <Route\n                  path=\"users\"\n                  element={\n                    <RequireRole role='handler'>\n                      <Users></Users>\n                    </RequireRole>\n                  }\n                />\n                <Route\n                  path=\"make-orderwave\"\n                  element={\n                    <MakeOrderWave />\n                  }\n                />\n                <Route\n                  path=\"create-menu\"\n                  element={\n                    <CreateMenu/>\n                  }\n                />\n              </Route>\n              <Route path=\"/login\" element={<><Outlet /></>}>\n                <Route path=\"\" element={<Login />} />\n              </Route>\n            </Routes>\n          </BrowserRouter>\n        </AuthProvider>\n      </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\nimport '@fontsource/roboto/300.css';\nimport '@fontsource/roboto/400.css';\nimport '@fontsource/roboto/500.css';\nimport '@fontsource/roboto/700.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}