{"version":3,"sources":["theme.ts","themeOptions.ts","api-client.ts","providers/login.provider.ts","providers/auth-provider.tsx","components/Login.tsx","components/Users.tsx","providers/order-provider.tsx","providers/menu-provider.tsx","components/Menu.tsx","providers/bottom-drawer-provider.tsx","components/Drawer.tsx","components/SummaryList.tsx","providers/orderwave-provider.tsx","components/OrderSumary.tsx","components/Sidebar.tsx","components/Layout.tsx","components/OrderWaveSummary.tsx","components/OrderWaveOrders.tsx","components/OrderWaveDetails.tsx","components/ActionsPanel.tsx","components/OwnOrderSummary.tsx","components/HomePage.tsx","routeGuards/RequireRole.tsx","routeGuards/RequireAuth.tsx","components/MakeOrderWave.tsx","components/CreateMenu.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["appTheme","createTheme","palette","mode","primary","main","secondary","divider","spacing","typography","fontFamily","fontSize","htmlFontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","h1","h2","h3","h4","subtitle1","h5","h6","subtitle2","button","getAccessTokenFromLocalStorage","localStorage","getItem","setAccessTokenInLocalStorage","token","setItem","baseConfig","baseURL","timeout","client","axios","create","interceptors","request","use","config","accessToken","headers","error","console","log","authorization","username","password","a","post","data","name","id","role","access_token","userInfo","JSON","stringify","AuthContext","React","createContext","AuthProvider","children","json","parse","getUserInfoFromLocalStorage","useState","authenticated","setAuthenticated","userName","setUserName","userId","setUserId","userRole","setUserRole","setError","hasError","setHasError","login","userData","logout","value","isHandler","Provider","useAuth","useContext","StyledTF","styled","TextField","theme","margin","maxWidth","minWidth","StyledForm","display","flexDirection","padding","RoundImage","width","height","borderRadius","Login","user","setUser","pass","setPass","auth","navigate","useNavigate","from","useLocation","state","pathname","severity","setSeverity","alertText","setAlertText","isSnackbarOpen","setIsSnackbarOpen","messageDuration","setMessageDuration","useEffect","replace","Container","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","Alert","sx","mt","variant","AlertTitle","Box","alignItems","justifyContent","Typography","my","color","src","mb","onSubmit","e","preventDefault","then","label","onChange","currentTarget","type","Button","m","Users","users","setUsers","get","List","map","ListItem","Card","CardContent","Stack","OrderContext","OrderProvider","setId","item","items","setItems","total","setTotal","hasChanges","setHasChanges","originalItems","setoriginalItems","Map","summaryMap","setSummaryMap","updateItems","updateTotal","number","fetchOrder","forEach","qty","set","catch","saveOrder","url","method","updateSummaryAndTotal","priceMap","summary","orderSummary","subtotal","push","buildOrderSummary","reduce","prev","curr","addSubtotals","useOrder","MenuContext","MenuProvider","setPriceMap","fetchMenu","price","updateMenu","fetch","useMenu","DataRow","onRemove","onAdd","highlight","handleClick","TableRow","selected","TableCell","align","textAlign","IconButton","onClick","Remove","Add","Menu","menuItems","setOpen","anchorEl","setAnchorEl","currentItem","setCurrentItem","event","setAnchor","handleClose","Boolean","undefined","handleRemoveButtonClick","existingSummary","handleAddButtonClick","Popover","Delete","mx","CardActions","ml","size","Check","TableContainer","component","Paper","Table","TableHead","TableBody","has","BottomDrawerContext","BottomDrawerProvider","bottomDrawerOpen","setBottomDrawerOpen","closeBottomDrawer","openBottomDrawer","useBottomDrawer","StyledBox","backgroundColor","grey","DrawerHeading","position","top","borderTopLeftRadius","borderTopRightRadius","visibility","right","left","Puller","SwipeableEdgeDrawer","props","hasOrderChanges","container","document","body","styles","overflow","Drawer","anchor","ModalProps","keepMounted","p","marginLeft","px","pb","SummaryList","flexGrow","mr","textDecoration","OrderWaveContext","OrderWaveProvider","handler","setHandler","orderBefore","setOrderBefore","menuId","setMenuId","setSummary","orders","setOrders","fetchOrderWave","order_before","menu_id","order","useOrderWave","OrderSummary","length","Sidebar","navigateTo","route","ListItemIcon","Home","ListItemText","MenuBook","Layout","isSidebarOpen","setIsSidebarOpen","toggleSidebar","newOpen","backgroundImage","AppBar","Toolbar","edge","aria-label","OrderWaveSummary","OrderWaveOrders","Accordion","AccordionSummary","expandIcon","ExpandMore","AccordionDetails","setTwoDigits","digit","String","OrderWaveDetails","dayNumber","date","orderWave","orderDate","Date","dayOfTheWeek","getDay","orderClosingTime","getHours","getMinutes","join","Divider","ActionsPanel","to","RouterLink","OwnOrderSummary","HomePage","RequireRole","location","RequireAuth","MakeOrderWave","requestBody","DateTimePicker","renderInput","newValue","CreateMenu","menuText","setMenuText","FormControl","fullWidth","multiline","rows","lines","split","regex","filter","line","test","match","parseFloat","App","ThemeProvider","CssBaseline","path","element","LocalizationProvider","dateAdapter","DateAdapter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.428ff346.chunk.js","sourcesContent":["import { createTheme } from \"@mui/material/styles\";\nimport { themeOptions } from \"./themeOptions\";\n\nexport const appTheme = createTheme(themeOptions);","import { ThemeOptions } from '@mui/material';\n\nexport const themeOptions: ThemeOptions = {\n  palette: {\n    mode: 'dark',\n    primary: {\n      main: '#ba68c8',\n    },\n    secondary: {\n      main: '#ffa726',\n    },\n    divider: '#485654',\n  },\n  spacing: 8,\n  typography: {\n    fontFamily: 'PT Sans',\n    fontSize: 15,\n    htmlFontSize: 17,\n    fontWeightLight: 400,\n    fontWeightRegular: 500,\n    fontWeightMedium: 600,\n    h1: {\n      fontFamily: 'Lora',\n    },\n    h2: {\n      fontFamily: 'Lora',\n    },\n    h3: {\n      fontFamily: 'Lora',\n    },\n    h4: {\n      fontFamily: 'Lora',\n    },\n    subtitle1: {\n      fontFamily: 'Lora',\n    },\n    h5: {\n      fontFamily: 'Lora',\n    },\n    h6: {\n      fontFamily: 'Lora',\n    },\n    subtitle2: {\n      fontFamily: 'PT Sans',\n    },\n    button: {\n      fontFamily: 'PT Sans',\n    },\n  }\n};","import axios, { AxiosRequestConfig, AxiosRequestHeaders } from 'axios';\n\nconst baseURL = process.env.NODE_ENV === 'production' ? '': 'http://192.168.1.14:3012/';\n\nexport function getAccessTokenFromLocalStorage() {\n  return localStorage.getItem('access_token');\n}\n\nexport function setAccessTokenInLocalStorage(token: string) {\n  localStorage.setItem('access_token', token);\n}\n\nconst baseConfig: Partial<AxiosRequestConfig> = {\n  baseURL,\n  timeout: 1000\n};\n\nexport const client = axios.create(baseConfig);\n\nclient.interceptors.request.use( config => {\n  const accessToken = getAccessTokenFromLocalStorage();\n  let headers: AxiosRequestHeaders = {};\n  if(accessToken) {\n    headers['Authorization'] = `Bearer ${accessToken}`;\n  }\n  return {...config, headers};\n}, error => {\n  console.log(error);\n});","import { client, setAccessTokenInLocalStorage } from \"../api-client\";\n\nexport interface UserInfo {\n  name: string;\n  role: string;\n  id: string;\n};\n\nexport function saveUserInfoInLocalStorage(userInfo: UserInfo) {\n  localStorage.setItem('user_info', JSON.stringify(userInfo));\n}\n\nexport function getUserInfoFromLocalStorage() {\n  const json = localStorage.getItem('user_info') || '{}';\n  return JSON.parse(json);\n}\n\nclass Login {\n  async login(username: string, password: string){\n    const { data: {\n      name, id, role, access_token\n    } } = await client.post('login', {username, password});\n    if (access_token) {\n      setAccessTokenInLocalStorage(access_token);\n      saveUserInfoInLocalStorage({id, name, role});\n    }\n    return {id, name, role, access_token};\n  }\n\n  async logout() {\n    setAccessTokenInLocalStorage('');\n  }\n}\n\nexport const authorization = new Login();","import React, { useState } from \"react\";\nimport { getAccessTokenFromLocalStorage } from \"../api-client\";\nimport { getUserInfoFromLocalStorage, authorization } from \"./login.provider\";\n\ninterface AuthContextType {\n  token: string | null;\n  authenticated: boolean;\n  userId?: string;\n  userName?: string;\n  userRole?: string;\n  login: (username: string, password: string) => Promise<any>;\n  logout: () => Promise<void>;\n  isHandler:() => boolean;\n  error: any;\n  hasError: boolean;\n}\n\nexport const AuthContext = React.createContext<AuthContextType>(null!);\n\nexport function AuthProvider({children}: {children: JSX.Element}) {\n\n  const {name, id, role} = getUserInfoFromLocalStorage();\n\n  const token = getAccessTokenFromLocalStorage();\n  const [authenticated, setAuthenticated] = useState(!!token);\n  const [userName, setUserName] = useState(name);\n  const [userId, setUserId] = useState(id);\n  const [userRole, setUserRole] = useState(role);\n  const [error, setError] = useState<any>();\n  const [hasError, setHasError] = useState(false)\n\n  async function login(username:string, password:string){\n    try {\n      const userData = await authorization.login(username,password);\n      setHasError(false);\n      setUserName(userData.name);\n      setUserId(userData.id);\n      setUserRole(userData.role);\n      setAuthenticated(true);\n      return userData;\n    } catch (error) {\n      setError(error);\n      setHasError(true);\n    }\n  }\n\n  async function logout(){\n    setAuthenticated(false);\n    return await authorization.logout()\n  }\n\n  function isHandler(): boolean {\n    return userRole === 'handler';\n  }\n\n  const value = {\n    authenticated,\n    token,\n    userName,\n    userId,\n    userRole,\n    login,\n    logout,\n    isHandler,\n    error,\n    hasError\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\nexport function useAuth() {\n  return React.useContext(AuthContext);\n}","import { Alert, AlertColor, AlertTitle, Button, Container, Snackbar, styled, TextField, Typography } from '@mui/material';\nimport { Box } from '@mui/system';\nimport React, {useEffect, useState} from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../providers/auth-provider';\n\nconst StyledTF = styled(TextField)(theme => ({\n  margin: 8,\n  maxWidth: 680,\n  minWidth: 200\n}));\n\nconst StyledForm = styled('form')({\n  display: 'flex',\n  flexDirection: 'column',\n  padding: 8\n});\n\nconst RoundImage = styled('img')({\n  width: 160,\n  height: 160,\n  borderRadius: 80\n});\n\nexport const Login = () => {\n  const [user, setUser] = useState('');\n  const [pass, setPass] = useState('');\n\n  const auth = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  let from = location.state?.from?.pathname || \"/\";\n\n  const [severity, setSeverity] = useState('error');\n  const [alertText, setAlertText] = useState('');\n  const [isSnackbarOpen, setIsSnackbarOpen] = useState(auth.hasError);\n  const [messageDuration, setMessageDuration] = useState(4000);\n\n  useEffect(() => {\n    if (auth.authenticated) {\n      navigate(from, { replace: true });\n    }\n    setSeverity('success');\n    setAlertText('See you Soon 🐒');\n    setMessageDuration(2000);\n    setIsSnackbarOpen(true);\n  }, [auth.authenticated, navigate, from]);\n\n  useEffect(() => {\n    if(!auth.hasError) return;\n    setSeverity('error');\n    setAlertText('wrong credentials 🙈');\n    setIsSnackbarOpen(true);\n  }, [auth.hasError])\n\n\n  function handleSnackbarClose() {\n    setIsSnackbarOpen(false);\n  }\n\n  function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    auth.login(user, pass).then(() => setIsSnackbarOpen(auth.hasError));\n  }\n\n\n  return (\n    <Container maxWidth=\"xs\">\n      <Snackbar\n        anchorOrigin={{vertical:'top', horizontal:'center'}}\n        open={isSnackbarOpen}\n        autoHideDuration={messageDuration}\n        onClose={handleSnackbarClose}\n      >\n        <Alert severity={(severity as AlertColor)} sx={{mt: 4}} variant='outlined'>\n          <AlertTitle>{alertText}</AlertTitle>\n        </Alert>\n      </Snackbar>\n      <Box sx={{\n        height: '100vh',\n        alignItems: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center'\n      }}>\n        <Typography variant=\"h4\" sx={{my: 4}} color=\"secondary\">Latin Sessions</Typography>\n        <RoundImage src=\"/arribalasmarihuanas.jpeg\" />\n        <Typography variant=\"h6\" sx={{mb: 2}} >ay no</Typography>\n        <StyledForm onSubmit={handleSubmit}>\n            <StyledTF\n              label=\"username\"\n              onChange={e => setUser(e.currentTarget.value)}\n              value={user}\n              color=\"primary\"\n            ></StyledTF>\n\n            <StyledTF\n              label=\"password\"\n              onChange={e => setPass(e.currentTarget.value)}\n              value={pass}\n              type=\"password\"\n              color=\"primary\"\n            ></StyledTF>\n\n            <Button type=\"submit\" variant=\"outlined\" sx={{m: 1}}>Login</Button>\n        </StyledForm>\n      </Box>\n    </Container>\n  );\n}","import React, { useEffect, useState }from 'react';\nimport { Card, CardContent, List, ListItem, Stack, Typography } from '@mui/material';\nimport { client } from '../api-client';\n\nexport function Users() {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    client.get('users').then( ({data}) => {\n      setUsers(data);\n    });\n  }, []);\n  return (<>\n\n    <Typography variant=\"h2\">Users!</Typography>\n    <List>\n      {users.map( ({id, name, role}) => (\n        <ListItem key={id}>\n          <Card>\n            <CardContent>\n              <Stack>\n                <Typography variant=\"body1\">user id: {id}</Typography>\n                <Typography variant=\"body1\">username: {name}</Typography>\n                <Typography variant=\"body1\">role: {role}</Typography>\n              </Stack>\n            </CardContent>\n          </Card>\n        </ListItem>)\n      )}\n    </List>\n\n  </>);\n}","import React, { useContext, useEffect, useState } from 'react';\nimport { client } from '../api-client';\n\nexport interface OrderItem {\n  qty?: number;\n  item?: string;\n  subtotal?: number;\n}\n\nexport interface OrderContextType {\n  id: string;\n  user: string;\n  originalItems: OrderItem[];\n  items?: OrderItem[];\n  total: number;\n  hasChanges: boolean;\n  summaryMap: Map<string, number>;\n  updateItems: (items: OrderItem[]) => void;\n  updateTotal: (total: number) => void;\n  saveOrder: () => Promise<void>;\n  fetchOrder: () => Promise<void>;\n  updateSummaryAndTotal: (priceMap: Map<string, number>) => void;\n}\n\nexport const OrderContext = React.createContext<OrderContextType>(null!);\n\nexport function OrderProvider({children}: {children: JSX.Element}) {\n  const [id, setId] = useState('');\n  const [user, setUser] = useState('');\n  const [items, setItems] = useState<OrderItem[]>([{item: ''}]);\n  const [total, setTotal] = useState(0);\n  const [hasChanges, setHasChanges] = useState(false);\n  const [originalItems, setoriginalItems] = useState<OrderItem[]>([]);\n  const [summaryMap, setSummaryMap] = useState(new Map<string, number>());\n\n  const updateItems = (items: OrderItem[]) => {\n    setItems(items);\n    setHasChanges(true);\n  }\n\n  const updateTotal = (number: number) => {\n    setTotal(number);\n    setHasChanges(true);\n  }\n\n  const fetchOrder = () => client.get('/orders').then(({data}) => {\n    if(!data.id) {\n      setItems([]);\n      setTotal(0);\n      return;\n    }\n\n    setId(data.id);\n    setUser(data.user.username);\n    setoriginalItems(data.items);\n    setItems(data.items);\n    setTotal(data.total);\n    setHasChanges(false);\n    const map = new Map<string, number>();\n    data.items?.forEach((item:any) =>\n        item.item && item.qty ?\n          map.set(item.item, item.qty)\n          : null\n      );\n    setSummaryMap(map);\n  });\n\n  useEffect(() => {\n    fetchOrder().catch(error => {\n      console.log(error);\n    })\n  }, []);\n\n  const saveOrder = async () => {\n    const {data} = await client({\n      url: '/orders',\n      method: 'PATCH',\n      data: { items},\n    });\n    setId(data.id);\n    setItems(data.items as OrderItem[]);\n    setTotal(data.total);\n    setHasChanges(false);\n    const map = new Map<string, number>();\n    (data.items as OrderItem[])\n      ?.forEach(({ item, qty }) =>\n        item && qty ?\n          map.set(item, qty)\n          : null\n      );\n\n    setSummaryMap(map);\n  };\n\n  function buildOrderSummary(priceMap: Map<string, number>) {\n    const orderSummary: any[] = [];\n    summaryMap.forEach((qty: number, name: string) => {\n      const subtotal = qty * (priceMap.get(name) || 0);\n      orderSummary.push({ item: name, qty, subtotal });\n    });\n    return orderSummary;\n  }\n\n  function addSubtotals(summary: any[]): number {\n    return summary.reduce((prev: number, curr) => prev + curr.subtotal, 0);\n  }\n\n  function updateSummaryAndTotal(priceMap: Map<string, number>) {\n    const summary = buildOrderSummary(priceMap);\n    updateItems(summary);\n    const total = addSubtotals(summary);\n    updateTotal(total);\n  }\n\n  const value = {\n    id,\n    user,\n    items,\n    total,\n    updateItems,\n    updateTotal,\n    saveOrder,\n    fetchOrder,\n    hasChanges,\n    originalItems,\n    summaryMap,\n    updateSummaryAndTotal\n  }\n\n  return <OrderContext.Provider value={value}>{children}</OrderContext.Provider>\n}\n\nexport function useOrder() {\n  return useContext(OrderContext)\n}","import React, { useState, useEffect, useContext } from \"react\";\nimport { client } from \"../api-client\";\nimport { MenuItem } from \"../components/Menu\";\n\ninterface MenuContextType {\n  items: MenuItem[];\n  priceMap: Map<string, number>;\n  updateMenu: (items: MenuItem[]) => Promise<void>;\n  fetchMenu: () => Promise<void>;\n}\n\nexport const MenuContext = React.createContext<MenuContextType>(null!);\n\nexport function MenuProvider({children}: {children: JSX.Element}) {\n  const [items, setItems] = useState<MenuItem[]>([]);\n  const [priceMap, setPriceMap] = useState(new Map<string, number>());\n\n  const fetchMenu = async () => client.get('menu').then( ({data}) => {\n    const map = new Map<string, number>();\n    setItems(data.items || []);\n    data.items.forEach( ({name, price}: MenuItem) => map.set(name, price));\n    setPriceMap(map);\n  });\n\n  const updateMenu = async (items: MenuItem[]) => client.post('/menu', {items})\n    .then(() => fetchMenu());\n\n  useEffect((fetch: () => Promise<void> = fetchMenu) => {\n    fetch();\n  }, [])\n\n  const value = {\n    items,\n    priceMap,\n    fetchMenu,\n    updateMenu\n  };\n\n  return <MenuContext.Provider value={value}>{children}</MenuContext.Provider>\n}\n\nexport function useMenu() {\n  return useContext(MenuContext)\n}","import React, { useEffect } from 'react';\nimport { Box, Card, CardActions, CardContent, IconButton, Paper, Popover, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography } from '@mui/material';\nimport { Add, Check, Delete, Remove } from '@mui/icons-material';\nimport { useOrder } from '../providers/order-provider';\nimport { useMenu } from '../providers/menu-provider';\n\nexport interface MenuItem {\n  name: string;\n  price: number\n};\n\nexport interface MenuData {\n  items: MenuItem[];\n  id: string;\n}\n\nconst DataRow = ({\n  name,\n  price,\n  onRemove,\n  onAdd,\n  highlight,\n  handleClick\n}: {\n  name: string,\n  price: number,\n  onRemove: (name: string) => void,\n  onAdd: (name: string) => void,\n  highlight?: boolean,\n  handleClick: (event: React.MouseEvent<HTMLElement>, setAnchor: boolean) => void\n}) => {\n\n  return (<TableRow selected={highlight}>\n    <TableCell> {name} </TableCell>\n    <TableCell align=\"center\"> {price} </TableCell>\n    <TableCell sx={{ textAlign: 'right', minWidth: '8em' }}>\n      <IconButton onClick={(e) => { onRemove(name); handleClick(e, true) }} color=\"secondary\">\n        <Remove></Remove>\n      </IconButton>\n      <IconButton onClick={(e) => { onAdd(name); handleClick(e, true) }} color=\"secondary\">\n        <Add></Add>\n      </IconButton>\n    </TableCell>\n  </TableRow>)\n};\n\nexport const Menu = () => {\n  const { items: menuItems, priceMap } = useMenu();\n\n  const { summaryMap, updateSummaryAndTotal } = useOrder() || [];\n\n  const [open, setOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const [currentItem, setCurrentItem] = React.useState('');\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>, setAnchor: boolean) => {\n    if (setAnchor) setAnchorEl(event.currentTarget);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  const canBeOpen = open && Boolean(anchorEl);\n  const id = canBeOpen ? 'transition-popper' : undefined;\n\n  useEffect(() => {\n    console.log(priceMap);\n  }, [priceMap])\n\n\n  function handleRemoveButtonClick(name: string) {\n    setCurrentItem(name);\n    const existingSummary = summaryMap.get(name) || 0;\n    if (existingSummary <= 0) {\n      return;\n    }\n\n    summaryMap.set(name, existingSummary - 1);\n    updateSummaryAndTotal(priceMap);\n  }\n\n  function handleAddButtonClick(name: string) {\n    setCurrentItem(name);\n    const existingSummary = summaryMap.get(name) || 0;\n    summaryMap.set(name, existingSummary + 1);\n    updateSummaryAndTotal(priceMap);\n  }\n\n  function handleDeleteButtonClick(name: string) {\n    summaryMap.set(name, 0);\n    updateSummaryAndTotal(priceMap);\n    handleClose();\n  }\n\n  return (<>\n    <Popover\n      id={id}\n      open={open}\n      anchorEl={anchorEl}\n      onClose={handleClose}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'left',\n      }}\n    >\n      <Card>\n        <CardContent>\n          <Typography variant=\"subtitle1\">{currentItem}</Typography>\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              mt: 2,\n              alignItems: 'center'\n            }}\n          >\n            <IconButton onClick={() => handleDeleteButtonClick(currentItem)}>\n              <Delete />\n            </IconButton>\n            <Box sx={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            }}>\n              <IconButton onClick={(e) => { handleRemoveButtonClick(currentItem); handleClick(e, false) }} color=\"secondary\">\n                <Remove></Remove>\n              </IconButton>\n              <Typography variant=\"subtitle1\" sx={{ mx: 1 }} color=\"primary\">{summaryMap.get(currentItem) || 0} g</Typography>\n              <IconButton onClick={(e) => { handleAddButtonClick(currentItem); handleClick(e, false) }} color=\"secondary\">\n                <Add></Add>\n              </IconButton>\n            </Box>\n          </Box>\n        </CardContent>\n        <CardActions>\n            <IconButton sx={{ml:'auto'}} color=\"success\" onClick={handleClose} size=\"large\">\n              <Check></Check>\n            </IconButton>\n        </CardActions>\n      </Card>\n    </Popover>\n    <Typography variant='h6' sx={{ mt: 2, mb: 2 }}>Menu 🍀🍀🍀</Typography>\n\n    <TableContainer component={Paper}>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell>🌱 Dish</TableCell>\n            <TableCell>💶 Price</TableCell>\n            <TableCell></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {menuItems && menuItems?.map(({ name, price }) => {\n            return (<DataRow\n              onRemove={handleRemoveButtonClick}\n              onAdd={handleAddButtonClick}\n              name={name}\n              price={price}\n              highlight={summaryMap && summaryMap.has(name) && !!summaryMap.get(name)}\n              key={name}\n              handleClick={handleClick}\n            ></DataRow>);\n          })}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  </>);\n}","import React, { createContext, useState, useContext } from 'react';\n\nexport interface BottomDrawerContextType {\n  bottomDrawerOpen: boolean;\n  closeBottomDrawer: () => void;\n  openBottomDrawer: () => void;\n}\n\nconst BottomDrawerContext = createContext<BottomDrawerContextType>(null!);\n\nexport function BottomDrawerProvider({children}: {children: JSX.Element}) {\n  const [bottomDrawerOpen, setBottomDrawerOpen] = useState(false);\n\n  const closeBottomDrawer = ()  => {\n    setBottomDrawerOpen(false);\n  }\n\n  const openBottomDrawer = () => {\n    setBottomDrawerOpen(true);\n  }\n\n  const value: BottomDrawerContextType = {\n    bottomDrawerOpen,\n    closeBottomDrawer,\n    openBottomDrawer\n  }\n\n  return <BottomDrawerContext.Provider value={value}>{children}</BottomDrawerContext.Provider>\n}\n\nexport function useBottomDrawer() {\n  return useContext(BottomDrawerContext)\n}","import * as React from 'react';\nimport { Global } from '@emotion/react';\nimport { styled } from '@mui/material/styles';\nimport { grey } from '@mui/material/colors';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport { Drawer } from '@mui/material';\nimport { useBottomDrawer } from '../providers/bottom-drawer-provider';\nimport { useOrder } from '../providers/order-provider';\n\nconst drawerBleeding = 56;\n\ninterface Props {\n  children: JSX.Element;\n  window?: () => Window;\n}\n\nconst StyledBox = styled(Box)(({ theme }) => ({\n  backgroundColor: theme.palette.mode === 'light' ? '#fff' : grey[800],\n}));\n\nconst DrawerHeading = styled(StyledBox)({\n  position: 'absolute',\n  top: -drawerBleeding,\n  borderTopLeftRadius: 8,\n  borderTopRightRadius: 8,\n  visibility: 'visible',\n  right: 0,\n  left: 0,\n  display: 'flex',\n  flexDirection:'column'\n});\n\nconst Puller = styled(Box)(({ theme }) => ({\n  width: 30,\n  height: 6,\n  backgroundColor: theme.palette.mode === 'light' ? grey[300] : grey[900],\n  borderRadius: 3,\n  position: 'absolute',\n  top: 8,\n  left: 'calc(50% - 15px)',\n}));\n\nexport function SwipeableEdgeDrawer(props: Props) {\n  const { total, hasChanges: hasOrderChanges } = useOrder();\n\n  const {bottomDrawerOpen, openBottomDrawer, closeBottomDrawer} = useBottomDrawer();\n\n  const container = document.body;\n\n  return (\n    <>\n      <Global\n        styles={{\n          '.MuiDrawer-root > .MuiDrawer-paperAnchorBottom': {\n            height: `calc(50% - ${drawerBleeding}px)`,\n            overflow: 'visible',\n          },\n        }}\n      />\n\n      <Drawer\n        anchor=\"bottom\"\n        open={bottomDrawerOpen}\n        onClose={closeBottomDrawer}\n        ModalProps={{\n          keepMounted: true,\n        }}\n        container={container}\n      >\n        <DrawerHeading\n          onClick={openBottomDrawer}\n        >\n          <Puller />\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              p: 2\n            }}>\n            <Typography variant=\"h6\" sx={{marginLeft:hasOrderChanges?0:'auto'}}>total: {total} €</Typography>\n            {hasOrderChanges && !bottomDrawerOpen && <Button variant=\"contained\" color=\"primary\" size=\"small\" >Save the order</Button>}\n          </Box>\n        </DrawerHeading>\n        <StyledBox\n          sx={{\n            px: 2,\n            pb: 2,\n            height: '100%',\n            overflow: 'auto',\n          }}\n        >\n          {props.children}\n        </StyledBox>\n      </Drawer>\n    </>\n  );\n}","import React from 'react';\nimport { List, ListItem, Typography } from '@mui/material';\nimport { Box } from '@mui/system';\nimport { OrderItem } from '../providers/order-provider';\n\ninterface Props {\n  items: OrderItem[]\n}\n\nexport default function SummaryList({items}: Props) {\n\n  return (\n    <List sx={{flexGrow: 1, overflow: 'scroll'}}>\n      {items && items.map( ({item, qty, subtotal}) => (\n        <ListItem key={item}>\n          <Typography variant=\"caption\">{qty}g.</Typography>\n          <Box component='span' sx={{mr: 1, ml: 1}}>-</Box>\n          <Typography variant=\"caption\" sx={{flexGrow: 1, textDecoration:qty?'none':'line-through'}}>{item}</Typography>\n          <Typography variant=\"caption\">{subtotal}</Typography>\n        </ListItem>\n      ))}\n      </List>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { client } from '../api-client';\n\nexport interface OrderItem {\n  qty?: number;\n  item?: string;\n  subtotal?: number;\n}\n\nexport interface UserModel {\n  name?: string;\n  id?: string;\n  username?: string;\n}\n\nexport interface OrderModel {\n  id?: string;\n  user?: UserModel;\n  items?: OrderItem[];\n  total?: number;\n}\n\nexport interface OrderWaveContextType {\n  id?: string;\n  handler?: string;\n  orderBefore?: string;\n  menuId?: string;\n  orders?: OrderModel[];\n  summary?: OrderItem[];\n  fetchOrderWave: () => Promise<void>;\n  total?: number;\n}\n\nexport const OrderWaveContext = React.createContext<OrderWaveContextType>(null!);\n\nexport function OrderWaveProvider({children}: {children: JSX.Element}) {\n  const [id, setId] = useState('');\n  const [handler, setHandler] = useState('');\n  const [orderBefore, setOrderBefore] = useState('');\n  const [menuId, setMenuId] = useState('');\n  const [summary, setSummary] = useState<OrderItem[]>([{item: ''}]);\n  const [orders, setOrders] = useState<OrderModel[]>([{id: ''}]);\n  const [total, setTotal] = useState(0);\n\n  const fetchOrderWave = () =>  client.get('order-wave').then(({data}) => {\n    const { id, handler, order_before, menu_id, summary, orders, total } = data;\n    console.log(orders?.map( (order: OrderModel) => order.total));\n    setId(id);\n    setHandler(handler.name);\n    setOrderBefore(order_before);\n    setMenuId(menu_id);\n    setOrders(orders);\n    setSummary(summary);\n    setTotal(total);\n  });\n\n  useEffect(() => {\n    fetchOrderWave();\n  }, []);\n\n  const value = {\n    id,\n    handler,\n    orderBefore,\n    menuId,\n    summary,\n    orders,\n    total,\n    fetchOrderWave\n  }\n\n  return <OrderWaveContext.Provider value={value}>{children}</OrderWaveContext.Provider>\n}\n\nexport function useOrderWave() {\n  return React.useContext(OrderWaveContext);\n}","import React from 'react';\nimport { Box, Button } from '@mui/material';\nimport { useBottomDrawer } from '../providers/bottom-drawer-provider';\nimport { useOrder } from '../providers/order-provider';\nimport SummaryList from './SummaryList';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { useNavigate } from 'react-router-dom';\n\nexport function OrderSummary() {\n  const {fetchOrderWave} = useOrderWave();\n  const {items, saveOrder, updateItems, updateTotal} = useOrder();\n  const {closeBottomDrawer} = useBottomDrawer();\n  const navigate = useNavigate();\n\n  function handleSaveButtonClick() {\n    saveOrder();\n    if(closeBottomDrawer) closeBottomDrawer();\n    if(fetchOrderWave) fetchOrderWave();\n    navigate('/');\n  }\n\n  function handleDeleteButtonClick() {\n    updateItems([]);\n    updateTotal(0);\n  }\n\n\n  return (<>\n    <Box sx={{\n      height: '100%',\n      textAlign: 'right',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between',\n      }}\n    >\n      <SummaryList items={items || []} />\n      <Box sx={{\n        display:'flex',\n        justifyContent: 'space-between',\n        flexDirection: 'row-reverse'\n      }}>\n        <Button\n          onClick={handleSaveButtonClick}\n          variant=\"contained\"\n          color=\"secondary\"\n        >\n          Save The order\n        </Button>\n        { items && items.length > 0 && <Button\n          onClick={handleDeleteButtonClick}\n          variant=\"contained\"\n          color=\"error\"\n        >\n          delete all\n        </Button>}\n      </Box>\n    </Box>\n</>);\n}","import React from 'react';\n\nimport { Home, MenuBook } from '@mui/icons-material';\nimport { List, ListItem, ListItemIcon, ListItemText, Drawer } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\n\ninterface Props {\n  open: boolean,\n  onClose: () => void;\n}\n\ntype Anchor = 'top' | 'left' | 'bottom' | 'right';\nconst anchor: Anchor = 'left';\n\nexport function Sidebar({ open, onClose }: Props) {\n\n  const navigate = useNavigate();\n\n  function navigateTo(route: string) {\n    navigate(route);\n    onClose();\n  }\n\n  const list = () => (<>\n    <List>\n      <ListItem button onClick={() => navigateTo('/')}>\n          <ListItemIcon>\n            <Home />\n          </ListItemIcon>\n          <ListItemText primary='Home' />\n      </ListItem>\n      <ListItem button onClick={() => navigateTo('/menu')}>\n          <ListItemIcon>\n            <MenuBook />\n          </ListItemIcon>\n          <ListItemText primary='Menu' />\n      </ListItem>\n    </List>\n  </>);\n\n  return (\n    <Drawer\n      anchor={anchor}\n      open={open}\n      onClose={onClose}\n    >\n      {list()}\n    </Drawer>\n  );\n}","import React, { useState } from 'react';\nimport { Alert, AppBar, Box, Button, Container, IconButton, Snackbar, Toolbar, Typography } from '@mui/material';\nimport { Menu } from '@mui/icons-material';\nimport { Outlet, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../providers/auth-provider';\nimport { SwipeableEdgeDrawer } from './Drawer';\nimport { OrderSummary } from './OrderSumary';\nimport { Sidebar } from './Sidebar';\nimport { BottomDrawerProvider } from '../providers/bottom-drawer-provider';\n\n\nexport function Layout() {\n\n  const auth = useAuth();\n  const navigate = useNavigate();\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isSnackbarOpen, setIsSnackbarOpen] = useState(auth.authenticated);\n\n\n  async function handleLogout() {\n    await auth.logout();\n    navigate('/login');\n  }\n\n  const toggleSidebar = (newOpen: boolean) => {\n    setIsSidebarOpen(newOpen);\n  }\n\n  function handleSnackbarClose() {\n    setIsSnackbarOpen(false);\n  }\n\n  return (<>\n    <Box sx={{\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n      backgroundImage: 'url(/psychedelyc.jpg)'\n    }}>\n      <Sidebar open={isSidebarOpen} onClose={() => toggleSidebar(false)}></Sidebar>\n      <AppBar position=\"sticky\" color=\"secondary\">\n        <Toolbar>\n          <IconButton\n            size=\"large\"\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            sx={{ mr: 2 }}\n            onClick={() => toggleSidebar(true)}\n          >\n            <Menu></Menu>\n          </IconButton>\n          <Button onClick={handleLogout} sx={{ml:'auto'}}>logout</Button>\n        </Toolbar>\n      </AppBar>\n      <Container sx={{flexGrow: 1, mb: 8}}>\n          <Box sx={{\n            mb: 8\n          }}>\n            <Outlet />\n          </Box>\n          <BottomDrawerProvider>\n            <SwipeableEdgeDrawer>\n              <OrderSummary></OrderSummary>\n            </SwipeableEdgeDrawer>\n          </BottomDrawerProvider>\n      </Container>\n    </Box>\n    <Snackbar\n      anchorOrigin={{vertical:'top', horizontal:'center'}}\n      open={isSnackbarOpen}\n      autoHideDuration={2000}\n      onClose={handleSnackbarClose}\n    >\n      <Alert severity='success'>\n        <Typography variant=\"subtitle2\">\n          Arriba las Marihuanas Joakin 🐒\n        </Typography>\n      </Alert>\n    </Snackbar>\n  </>);\n}\n\n","import React from 'react';\nimport { Card, CardContent, Typography } from '@mui/material';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport SummaryList from './SummaryList';\n\nexport function OrderWaveSummary() {\n  const {summary, total} = useOrderWave();\n  return (<Card sx={{ mb: 2}}>\n    <CardContent>\n      <Typography variant=\"h6\">Everyone's Total: {total} €</Typography>\n      <SummaryList items={summary || []} />\n    </CardContent>\n  </Card>);\n}","import React from 'react';\nimport { Accordion, AccordionDetails, AccordionSummary, Box, Card, CardContent, Typography } from '@mui/material';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { ExpandMore } from '@mui/icons-material';\nimport SummaryList from './SummaryList';\n\nexport function OrderWaveOrders() {\n  const {orders} = useOrderWave();\n\n  return (<Card>\n    <CardContent>\n      <Typography variant=\"h6\"> These people are ordering:</Typography>\n      {orders?.map( order =>\n        (<Box sx={{mb: 2, mt:2}}>\n          <Accordion>\n            <AccordionSummary\n              expandIcon={<ExpandMore/>}\n              >\n              <Typography variant=\"body1\" component=\"div\" color=\"secondary\">{order.user?.name}: {order.total} €</Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n              <SummaryList items={order.items || []} />\n            </AccordionDetails>\n          </Accordion>\n        </Box>)\n      )}\n    </CardContent>\n  </Card>);\n}","import React from 'react';\nimport { Divider, Typography } from '@mui/material';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { useAuth } from '../providers/auth-provider';\n\nfunction getDayNumberWord(dayNumber?: number): string {\n\n  if (\n    dayNumber === undefined\n    || dayNumber === null\n    || dayNumber > 6\n    || dayNumber < 0\n  ) {\n    return 'Danielsday';\n  }\n\n  const daysMap = new Map<string, string>([\n    [\"2\", \"Monday\"],\n    [\"3\", \"Tuesday\"],\n    [\"4\", \"Wednesday\"],\n    [\"5\", \"Thursday\"],\n    [\"6\", \"Friyay\"],\n    [\"7\", \"Saturday\"],\n    [\"1\", \"Sunday\"]\n  ]);\n\n  return daysMap.get(String(dayNumber + 1)) || 'Danielsday';\n}\n\nfunction setTwoDigits(digit: number) {\n  if (digit < 10) {\n    return '0'+digit;\n  }\n  return String(digit);\n}\n\nfunction getHoursAndMinutes(date: Date) {\n  const hours = setTwoDigits(date.getHours());\n  const minutes = setTwoDigits(date.getMinutes());\n\n  return [hours, minutes].join(':');\n}\n\nexport function OrderWaveDetails() {\n  const orderWave = useOrderWave();\n  const {userName} = useAuth();\n\n  const {handler, orderBefore } = orderWave;\n  const orderDate = new Date(orderBefore || '');\n  const dayOfTheWeek = getDayNumberWord(orderDate.getDay());\n  const orderClosingTime = getHoursAndMinutes(orderDate);\n\n  return (<>\n    <Typography variant=\"h5\">{handler === userName ? 'You are': `${handler} is`} ordering on </Typography>\n    <Typography variant=\"h5\" color=\"primary\" sx={{mb:2}}>{dayOfTheWeek}</Typography>\n    <Divider />\n    <Typography sx={{my:2}}> Order before {orderClosingTime}</Typography>\n  </>);\n}","import React from 'react';\nimport { Card, CardContent, CardActions, Button, Stack } from '@mui/material';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useAuth } from '../providers/auth-provider';\nimport { useOrderWave } from '../providers/orderwave-provider';\n\n\nexport function ActionsPanel({children}:{children: JSX.Element}) {\n\n  const {isHandler, userName} = useAuth();\n  const {handler} = useOrderWave();\n\n  const showhandlerDetails = () => isHandler() && userName === handler;\n\n  return (<Card sx={{my: 2}}>\n    <CardContent>\n      {children}\n      <Stack>\n      { showhandlerDetails() && <Button sx={{my:1}} size=\"small\" to={`/create-menu`} component={RouterLink} >change the Menu</Button> }\n      { isHandler() && <Button sx={{my:1}} size=\"small\" color=\"secondary\" to={`/make-orderwave`} component={RouterLink}>Make new OrderWave</Button> }\n      </Stack>\n    </CardContent>\n    <CardActions>\n      <Button size=\"small\" to={`/menu`} component={RouterLink} sx={{ml: 'auto'}}>\n          Menu\n      </Button>\n    </CardActions>\n  </Card>);\n}","import { Card, CardContent, Typography } from '@mui/material'\nimport { Box } from '@mui/system'\nimport React from 'react'\nimport { useOrder } from '../providers/order-provider'\nimport SummaryList from './SummaryList'\n\nexport default function OwnOrderSummary() {\n\n  const {items, total} = useOrder();\n  return (\n    <Card sx={{mb: 2}}>\n      <CardContent>\n        <Typography variant=\"h5\" component=\"div\" sx={{mb: 1}}>Your order</Typography>\n        { (!items?.length || !total) && <Typography variant=\"subtitle1\" component=\"div\" sx={{mb: 1}}>You have nothing to ask for... 🌚</Typography>}\n        { !!items?.length && !!total && <>\n          <SummaryList items={items || []} />\n          <Box sx={{display: 'flex'}}>\n            <Typography variant=\"body1\" component=\"div\" sx={{ml: 'auto', mr: 2}}>total: {total}</Typography>\n          </Box>\n        </>}\n      </CardContent>\n    </Card>\n  )\n}\n","import React from 'react';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { OrderWaveSummary } from './OrderWaveSummary';\nimport { OrderWaveOrders } from './OrderWaveOrders';\nimport { OrderWaveDetails } from './OrderWaveDetails';\nimport { ActionsPanel } from './ActionsPanel';\nimport { useAuth } from '../providers/auth-provider';\nimport OwnOrderSummary from './OwnOrderSummary';\n\nexport function HomePage() {\n\n  const {isHandler, userName} = useAuth();\n  const {handler} = useOrderWave();\n\n  const showhandlerDetails = () => isHandler() && userName === handler;\n\n  return (<>\n    <ActionsPanel>\n      <OrderWaveDetails />\n    </ActionsPanel>\n    <OwnOrderSummary />\n    {showhandlerDetails() && <>\n      <OrderWaveSummary />\n      <OrderWaveOrders />\n    </>}\n  </>);\n}","import React from 'react';\nimport { useLocation, Navigate } from \"react-router-dom\";\nimport { useAuth } from \"../providers/auth-provider\";\n\nexport function RequireRole({children, role}: {children: JSX.Element, role: string}) {\n  const auth = useAuth();\n  const location = useLocation();\n\n  if (auth.userRole !== role) {\n    return <Navigate to=\"/menu\" state={{ from: location }} />;\n  }\n\n  return children;\n}","import React from 'react';\nimport { useLocation, Navigate } from \"react-router-dom\";\nimport { useAuth } from \"../providers/auth-provider\";\n\nexport function RequireAuth({children}: {children: JSX.Element}): JSX.Element {\n  const auth = useAuth();\n  const location = useLocation();\n\n  if(!auth.authenticated) {\n    return <Navigate to=\"/login\" state={{ from: location }} />;\n  }\n\n  return children;\n}","import React, { FormEvent, useState } from 'react';\nimport { Card, CardContent, TextField, Typography, Button, Box } from '@mui/material';\nimport { DateTimePicker } from '@mui/lab';\nimport { useAuth } from '../providers/auth-provider';\nimport { client } from '../api-client';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { useNavigate } from 'react-router';\n\nexport default function MakeOrderWave() {\n  const [orderBefore, setOrderBefore] = useState<Date | null>(new Date());\n  const {userId} = useAuth();\n  const orderWave = useOrderWave();\n  const navigate = useNavigate();\n\n\n  function createOrderWave<HTMLFormElement>(e: FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n\n    const requestBody = {\n      handler: userId,\n      order_before: orderBefore\n    };\n\n    client.post('order-wave', requestBody).then( () => {\n      if (orderWave.fetchOrderWave) {\n        return orderWave?.fetchOrderWave();\n      }\n      return null;\n    }).then(() => {\n      return navigate('/');\n    });\n  }\n\n  return (\n    <>\n      <Typography variant=\"h5\" sx={{ my: 2 }}> Make a New Orderwave</Typography>\n      <Card>\n        <CardContent>\n          <Typography variant=\"h6\" component=\"div\"></Typography>\n          <form onSubmit={createOrderWave}>\n            <Box sx={{mb:2}}>\n              <DateTimePicker\n                renderInput={(props) => <TextField {...props} />}\n                label=\"Order before:\"\n                value={orderBefore}\n                onChange={(newValue) => {\n                  setOrderBefore(newValue);\n                }}\n              />\n              </Box>\n              <Button type=\"submit\" variant=\"contained\"> create orderWave</Button>\n          </form>\n        </CardContent>\n      </Card>\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport { FormControl, TextField, Button, Card, CardContent } from '@mui/material';\nimport { useNavigate } from 'react-router';\nimport { useMenu } from '../providers/menu-provider';\nimport { useOrder } from '../providers/order-provider';\nimport { useOrderWave } from '../providers/orderwave-provider';\nimport { MenuItem } from './Menu';\n\nconst defaultInput = `\nWEED 🌲🌲 per G\nMimozz (hybrid)🍭🍭🍭12€\nBlood Orange (hybrid)🍊🍊🍊12€\nZookies (hybrid)🥮🥮🥮12€\nBacio Gelato (hybrid)🍨🍨🍨12€\nMimosa (hybrid)🌾🌾🌾11€\nGorilla Zkittlez (hybrid) 🦍🍊🦍11€\nMelonade (sativa)🍉🍉🍉10€\nStrawberry Kush (indica)🍓🍓🍓10€\nL.A. Confidential (indica)🌃🌃🌃10€\nShoreline (sativa)🍒🍒🍒10€\nSomari (indica)🥧🥧🥧9€\nMiss Cookies (hybrid)🍪👸🍪9€\nGuanabana #2 (hybrid) 🍈🍈🍈9€\nChocolope (sativa)🍫🍫🍫8.5€\nEnemy of the States (indica)🥧🥧🥧8.5€\nLemon Kush (indica)🍋🌿🍋8.5€\nSuper Lemon Haze (sativa)🍋🍋🍋7€\nSuper Silver Haze (sativa) 🐊🐊🐊7€\nSkunk (indica)🦨🦨🦨7€\nMix Buds 🇳🇱🇳🇱🇳🇱 6€\n\nHASH🍫🍫 per G\nGelato Triple Filtred 🍧🍧🍧15€\nLemonchello Triple Filtred🍋🍋🍋15€\nMandalina Triple Filtred 🍊🍊🍊15€\nBarbara Peach Triple Filtred 🍑🍑🍑 15€\nKit & Kat Double Filtred + Wax 🍫🍫🍫13.5€\nBiscotti Eggs Double Filtred 🍪🍪🍪 13.5€\nMandarina Eggs Double Filtred 🍊🍊🍊13.5€\nGorilla Zkittlez Eggs Double Filtred🦍🍊🦍13.5€\nGolden States Eggs Double Filtred 🍌🍌🍌12.5€\nBanana Kush Refiltred 🍌☘️🍌12€\nGorilla Kush Blond Refiltred 🦍☘️🦍10€\nBanana Punch Refiltred 🍌🍌🍌10€\nBluberry Kush Filtred Hash 🍒🍓🍒7.5€\nMango Kush Filtred Hash🥭🥭🥭7.5€\nPhineapple Express Pollinetor Hash 🍍🍍🍍7€\nOrange Bud Maroccan Hash 🍊🍊🍊7€`;\n\nexport default function CreateMenu(): JSX.Element {\n\n  const { fetchOrderWave } = useOrderWave();\n  const { fetchOrder } = useOrder();\n  const navigate = useNavigate();\n  const { updateMenu } = useMenu();\n\n  function onMenuCreated(items: MenuItem[]) {\n    updateMenu(items).then(() => {\n      if(fetchOrderWave) fetchOrderWave();\n      fetchOrder();\n      navigate('/menu');\n    });\n  }\n\n  const [menuText, setMenuText] = useState(defaultInput);\n\n  function makeMenuItems() {\n    if (!menuText) {\n      console.log('textfield is empty yo');\n      return;\n    }\n\n    const lines: string[] = menuText.split('\\n');\n    const regex = /(^.+[^\\d^.]|[^\\d])([\\d.]{1,4}).?/;\n    const menuItems: MenuItem[] = lines\n      .filter(line => regex.test(line))\n      .map(line => {\n        const match = line.match(regex);\n        if (!match) return { id: '', name: '', price: 0 };\n        return { id: match[0], name: match[1], price: parseFloat(match[2]) }\n      });\n    if (menuItems !== null && menuItems.length > 0) {\n      onMenuCreated(menuItems);\n    } else {\n      console.error('WTF...');\n    }\n  }\n\n  return (\n    <Card>\n      <CardContent>\n        <FormControl fullWidth>\n          <TextField\n            label=\"paste the menu here 👇🏾\"\n            multiline\n            rows={15}\n            variant=\"outlined\"\n            onChange={e => setMenuText(e.currentTarget.value)}\n            value={menuText}\n          ></TextField>\n        </FormControl>\n        <Button variant=\"contained\" color=\"primary\" onClick={makeMenuItems}> Gogogo! </Button>\n      </CardContent>\n    </Card>\n  )\n}\n","import React from 'react';\nimport { ThemeProvider, CssBaseline,  } from '@mui/material';\nimport { appTheme } from './theme';\nimport { Routes, Route, Outlet, BrowserRouter } from 'react-router-dom';\nimport { Login } from './components/Login';\nimport { Users } from './components/Users';\nimport { Menu } from './components/Menu';\nimport { Layout } from './components/Layout';\nimport { HomePage } from './components/HomePage';\nimport { AuthProvider } from './providers/auth-provider';\nimport { RequireRole } from './routeGuards/RequireRole';\nimport { RequireAuth } from './routeGuards/RequireAuth';\nimport { OrderWaveProvider } from './providers/orderwave-provider';\nimport { OrderProvider } from './providers/order-provider';\nimport DateAdapter from '@mui/lab/AdapterDateFns';\nimport { LocalizationProvider } from '@mui/lab';\nimport MakeOrderWave from './components/MakeOrderWave';\nimport CreateMenu from './components/CreateMenu';\nimport { MenuProvider } from './providers/menu-provider';\n\nfunction App() {\n\n  return (\n      <ThemeProvider theme={appTheme}>\n        <CssBaseline />\n        <AuthProvider>\n          <BrowserRouter>\n            <Routes>\n              <Route\n                path=\"/\"\n                element={\n                  <RequireAuth>\n                    <OrderWaveProvider>\n                      <OrderProvider>\n                        <MenuProvider>\n                          <LocalizationProvider dateAdapter={DateAdapter}>\n                            <Layout />\n                          </LocalizationProvider>\n                        </MenuProvider>\n                      </OrderProvider>\n                    </OrderWaveProvider>\n                  </RequireAuth>\n                }\n              >\n                <Route\n                  path=\"\"\n                  element={\n                    <HomePage />\n                  }\n                />\n                <Route\n                  path=\"menu\"\n                  element={\n                    <Menu />\n                  }/>\n                <Route\n                  path=\"users\"\n                  element={\n                    <RequireRole role='handler'>\n                      <Users></Users>\n                    </RequireRole>\n                  }\n                />\n                <Route\n                  path=\"make-orderwave\"\n                  element={\n                    <MakeOrderWave />\n                  }\n                />\n                <Route\n                  path=\"create-menu\"\n                  element={\n                    <CreateMenu/>\n                  }\n                />\n              </Route>\n              <Route path=\"/login\" element={<><Outlet /></>}>\n                <Route path=\"\" element={<Login />} />\n              </Route>\n            </Routes>\n          </BrowserRouter>\n        </AuthProvider>\n      </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\nimport '@fontsource/lora';\nimport '@fontsource/pt-sans';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}